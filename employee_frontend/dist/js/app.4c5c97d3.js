(function(t){function e(e){for(var n,s,i=e[0],l=e[1],c=e[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"eaa0a53b"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=n);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",c.name="ChunkLoadError",c.type=n,c.request=r,a[1](c)}o[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"109f":function(t,e,a){t.exports=a.p+"img/history2.49ebc105.png"},2349:function(t,e,a){},"4a8e":function(t,e,a){t.exports=a.p+"img/logo2.3383dae6.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("0cdd");var n=a("2b0e"),o=a("5f5b");a("ab8b"),a("2dd8");n["default"].use(o["a"]);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}}),a("router-view")],1)},s=[],i={components:{}},l=i,c=(a("5c0b"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,null,null),d=u.exports,p=(a("d3b7"),a("8c4f")),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("top-header"),n("b-container",[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{nd:"3"}},[n("b-card",{key:t.Marked,staticClass:"mb-2",staticStyle:{"max-width":"30res"},attrs:{title:"Mark Attendance","img-src":a("a7bf"),"img-alt":"Job Info","img-top":"",tag:"article"}},[!1===t.Marked?n("b-button",{staticClass:"btn btn-warning",attrs:{block:""},on:{click:t.markAttendance}},[t._v("Un-Marked")]):!0===t.Marked?n("b-button",{staticClass:"btn btn-success",attrs:{block:""}},[t._v("Marked")]):t._e()],1)],1),n("b-col",{attrs:{nd:"3"}},[0==t.emptype?n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20res"},attrs:{title:"Available Deliveries","img-src":a("7c96"),"img-alt":"Job Info","img-top":"",tag:"article"}},[n("b-card-text",[t._v("Choose any delivery location available in the list")]),n("b-button",{attrs:{varient:"primary",to:"Jobs"}},[t._v("Deliveries")])],1):t._e()],1),n("b-col",{attrs:{nd:"3"}},[n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20res"},attrs:{title:"Attendance History","img-src":a("109f"),"img-alt":"Job Info","img-top":"",tag:"article"}},[n("b-card-text",[t._v("Check your previous attendance records.")]),n("b-button",{attrs:{varient:"primary",to:"AttendanceHistory"}},[t._v("Attendance Records")])],1)],1)],1)],1)],1)},f=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar",{attrs:{variant:"faded",type:"dark"}},[n("b-navbar-brand",{attrs:{href:"/"}},[n("img",{staticClass:"d-inline-block align-top",attrs:{src:a("4a8e"),contain:"",height:"50px",width:"auto",alt:"logo"}})])],1),n("b-navbar-brand",{attrs:{href:"#"}},[t._v("Employee Portal")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{attrs:{to:"/",size:"md"}}),n("b-button",{staticClass:"my-2 my-sm-0",attrs:{pill:"",varient:"outline-secondary",size:"md",type:"submit"},on:{click:t.logout}},[t._v("Logout")])],1)],1)],1)],1)},b=[],h=(a("ac1f"),a("5319"),{data:function(){return{currusername:localStorage.username}},methods:{logout:function(){localStorage.token&&(delete localStorage.token,delete localStorage.uid,this.$router.replace("/"))}}}),v=h,w=(a("870a"),Object(c["a"])(v,m,b,!1,null,"4114fd86",null)),y=w.exports,S=a("bc3a").default,C={name:"Home",components:{"top-header":y},data:function(){return{emptype:localStorage.type,Marked:!1}},methods:{markAttendance:function(){var t=this;localStorage.ismarked=2;var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),n=e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds());console.log(a),console.log(localStorage.uid),console.log(n),S.put("http://khdd.codes:30008/mark_attendance",{username:localStorage.username}).then((function(e){t.Marked=!0,console.log(t.Marked),console.log(e)})).catch((function(t){return console.log(t)}))},getattendance:function(){var t=this;console.log("INSIDE GET ATTENDENCE"),S.get("http://khdd.codes:30008/start_day").then((function(e){console.log(t.Marked),console.log("INSIDE GET ATTENDANCE THEN"),console.log(e)})).catch((function(t){return console.log(t)}))},checkAttendance:function(){console.log("INSIDE CHECK ATTENDANCE FUNCTION"),console.log(localStorage.ismarked),2==localStorage.ismarked?(console.log("mark attendance"),this.Marked=!0):0==localStorage.ismarked&&(console.log("inserting employee"),this.getattendance(),localStorage.ismarked=1,this.Marked=!1)}},created:function(){console.log("inside created "),console.log(localStorage.ismarked),this.checkAttendance()}},k=C,A=Object(c["a"])(k,g,f,!1,null,"17a3e616",null),E=A.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top-header"),a("h1",[t._v("Attendance History")]),a("b-table",{attrs:{striped:"",hover:"",items:t.items}})],1)},T=[],I=a("bc3a").default,M={components:{"top-header":y},data:function(){return{items:[]}},created:function(){var t=this;console.log("INside attendance history");var e=localStorage.username;console.log(e),I.get("http://khdd.codes:30008/attendance/".concat(e)).then((function(e){console.log(e.data.results),t.items=e.data.results}),(function(t){console.log(t)}))}},D=M,O=Object(c["a"])(D,P,T,!1,null,null,null),H=O.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top-header"),a("h1",[t._v("Deliveries")]),a("vue-good-table",{attrs:{columns:t.columns,rows:t.rows,paginate:!0,responsive:!0,lineNumbers:!1},scopedSlots:t._u([{key:"table-row",fn:function(e){return["Status"===e.column.field?a("span",{key:t.renderKey},[0==e.row.Status?a("b-button",{staticClass:"btn btn-danger",attrs:{block:"",type:"button"},on:{click:function(a){return t.getCurrentTime(t.currUser,e.row["Package_ID"],e.row["Status"])}}},[t._v("Start")]):1==e.row.Status?a("b-button",{staticClass:"btn btn-warning",attrs:{block:"",type:"button"},on:{click:function(a){return t.getCurrentTime(t.currUser,e.row["Package_ID"],e.row["Status"])}}},[t._v("Delivering")]):2==e.row.Status?a("b-button",{staticClass:"btn btn-success",attrs:{block:"",type:"button"},on:{click:function(a){return t.getCurrentTime(14,e.row["Package_ID"],e.row["Status"])}}},[t._v("Delivered")]):t._e()],1):a("span",[t._v(" "+t._s(e.formattedRow[e.column.field])+" ")])]}}])})],1)},z=[],x=a("bc3a").default,Q={components:{"top-header":y},data:function(){return{currUser:localStorage.uid,renderKey:0,columns:[{label:"PackageID",field:"Package_ID",type:"number"},{label:"Delivery Address",field:"Address"},{label:"Status",field:"Status",type:"text"}],rows:[]}},methods:{getCurrentTime:function(t,e,a){console.log(t),console.log(e);var n=new Date,o=n.getHours()+":"+(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes())+":"+(n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds());a<2&&(a+=1),x.post("http://localhost:8000/time",{contentType:"application/json",data:{stime:o,user:t,pkgID:e,stat:a}}),this.fetchdata(),this.renderKey++},fetchdata:function(){var t=this;x.get("http://localhost:8000/Deliveries").then((function(e){console.log(e.data.Data),t.rows=e.data.Data}),(function(t){console.log(t)}))}},created:function(){this.fetchdata()}},j=Q,N=Object(c["a"])(j,J,z,!1,null,null,null),L=N.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-wrapper border border-light"},[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("h2",{staticClass:"form-signin-heading"},[t._v("Please sign in")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v(" Sign in ")])])])},q=[],K=a("bc3a").default,F={name:"Login",data:function(){return{email:"",password:""}},methods:{login:function(){var t=this;K.post("http://khdd.codes:30008/user_login",{username:this.email,password:this.password}).then((function(e){return t.loginSuccessful(e)})).catch((function(){return t.loginFailed()}))},loginSuccessful:function(t){t.data.token?(localStorage.token=t.data.token,localStorage.type="Salaried",localStorage.ismarked=0,localStorage.username=this.email,localStorage.type=1,console.log(localStorage.type),this.error=!1,this.$router.replace("/Home")):this.loginFailed()},loginFailed:function(){this.error="Login failed!",delete localStorage.token}},created:function(){localStorage.token&&this.$router.replace("/Home")}},W=F,R=(a("d6db"),Object(c["a"])(W,U,q,!1,null,null,null)),X=R.exports;n["default"].use(p["a"]);var B=[{path:"/home",name:"Home",component:E},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/jobs",name:"Jobs",component:L},{path:"/attendancehistory",name:"AttendanceHistory",component:H},{path:"/",name:"Login",component:X}],_=new p["a"]({mode:"history",base:"/",routes:B}),V=_,G=a("2f62");n["default"].use(G["a"]);var Y=new G["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Z=a("f617");a("dac4");n["default"].config.productionTip=!1,n["default"].use(Z["a"]),new n["default"]({router:V,store:Y,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"7c96":function(t,e,a){t.exports=a.p+"img/deliveryimage.69e1e3ad.webp"},"870a":function(t,e,a){"use strict";a("2349")},"9c0c":function(t,e,a){},a7bf:function(t,e){t.exports="data:image/png;base64,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"},d6db:function(t,e,a){"use strict";a("e67a")},e67a:function(t,e,a){}});
//# sourceMappingURL=app.4c5c97d3.js.map