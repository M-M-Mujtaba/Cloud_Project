(this["webpackJsonpfirst-react-app"]=this["webpackJsonpfirst-react-app"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(35),r=a.n(s),l=(a(42),a(43),a(44),a(6)),o=a(13),i=a.n(o),d=a.p+"static/media/add1.8a0965ff.png",j=a.p+"static/media/user.9e3e268d.png",b=a(9),u=a(1),m=function(){var e=Object(l.f)();return Object(u.jsx)("nav",{class:"navbar navbar-expand-lg navbar navbar-dark bg-dark",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{class:"navbar-brand",href:"#",children:"Admin User"}),Object(u.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{class:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(u.jsx)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)(b.b,{class:"nav-link active","aria-current":"page",to:"/",children:"Home"})})}),Object(u.jsx)(b.b,{class:"btn btn-outline-success mx-3 mr-sm-2",type:"submit",onClick:function(t){t.preventDefault(),console.log("ihihi"),localStorage.setItem("token",null),e.push("/")},to:"/",children:"Logout"})]})]})})},h=function(){var e=Object(l.f)();return"null"===localStorage.getItem("token")&&e.push("/"),Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"py-4",children:[Object(u.jsx)("h1",{className:"text-center",children:" Home page"}),Object(u.jsxs)("div",{class:"shadow row p-5",children:[Object(u.jsx)("div",{class:"col mx-5",children:Object(u.jsxs)("div",{class:"card card text-center",children:[Object(u.jsx)("img",{src:d,class:"card-img-top",alt:"...",style:{height:240,width:240,marginLeft:"auto",marginRight:"auto"}}),Object(u.jsx)("div",{class:"card-body",children:Object(u.jsx)("a",{href:"/UserScreen",class:"btn btn-primary btn-lg btn-block",children:"Add User"})})]})}),Object(u.jsx)("div",{class:"col mx-5",children:Object(u.jsxs)("div",{class:"card card text-center",children:[Object(u.jsx)("img",{src:j,class:"card-img-top",alt:"...",style:{height:240,width:240,marginLeft:"auto",marginRight:"auto"}}),Object(u.jsx)("div",{class:"card-body",children:Object(u.jsx)("a",{href:"/UserList",class:"btn btn-primary btn-lg btn-block",children:"Edit User"})})]})})]})]})})]})},p=a(7),x=a.n(p),O=a(14),v=a(18),f=a(19),g=a(16),y=function(){var e=Object(l.f)();"null"===localStorage.getItem("token")&&e.push("/");var t=Object(n.useState)({fname:"",lname:"",email:"",password:"",salary:"",designation:""}),a=Object(g.a)(t,2),c=a[0],s=a[1],r=function(e){s(Object(f.a)(Object(f.a)({},c),{},Object(v.a)({},e.target.name,e.target.value)))},o=function(){var t=Object(O.a)(x.a.mark((function t(a){var n,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n={username:c.email,password:c.password,fname:c.firstname,lname:c.lastname,salary:c.salary,designation:c.designation},t.next=5,i.a.post("http://khdd.codes:30008/add_emp",n);case 5:s=t.sent,console.log(s.data.results),e.push("/Home"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("[Add User] Error sending new user request to the backedn."),console.log(String(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{}),Object(u.jsx)("div",{className:"container my-5",children:Object(u.jsxs)("div",{className:"w-70 mx-auto shadow p-4",children:[Object(u.jsx)("h1",{children:"ADD USER FOLL TEZZZ"}),Object(u.jsxs)("form",{class:"row g-3",onSubmit:function(e){return o(e)},children:[Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"First Name"}),Object(u.jsx)("input",{type:"text",class:"form-control",value:c.firstname,onChange:function(e){return r(e)},name:"firstname"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"Last Name"}),Object(u.jsx)("input",{type:"text",class:"form-control",value:c.lastname,onChange:function(e){return r(e)},name:"lastname"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"Phone Number"}),Object(u.jsx)("input",{type:"text",class:"form-control",id:"inputCity",value:c.phoneNumber,onChange:function(e){return r(e)},name:"phoneNumber"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"Designation"}),Object(u.jsx)("input",{type:"text",class:"form-control",value:c.designation,onChange:function(e){return r(e)},name:"designation"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"Email"}),Object(u.jsx)("input",{type:"email",class:"form-control",id:"inputEmail4",value:c.email,onChange:function(e){return r(e)},name:"email"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"Password"}),Object(u.jsx)("input",{type:"text",class:"form-control",id:"inputCity",value:c.password,onChange:function(e){return r(e)},name:"password"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"Salary"}),Object(u.jsx)("input",{type:"text",class:"form-control",id:"inputCity",value:c.salary,onChange:function(e){return r(e)},name:"salary"})]}),Object(u.jsx)("div",{className:"col-12 my-3",children:Object(u.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Add User"})})]})]})})]})},N=function(){var e=Object(l.f)();"null"===localStorage.getItem("token")&&e.push("/");var t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){r()}),[]);var r=function(){var e=Object(O.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("http://khdd.codes:30008/employees");case 3:t=e.sent,console.log(t),s(t.data.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error: While fetching userss!!!!"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(O.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,i.a.post("http://khdd.codes:30008/delete_emp",{username:t});case 4:a=e.sent,console.log(a),setTimeout(r,1e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("[Edit Users] Error occured");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{}),"\xa0",Object(u.jsx)("h1",{className:"text-center font-weight-bold",children:"Edit Users"}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"py-4",children:Object(u.jsxs)("table",{class:"table table-dark table-hover table border shadow",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"EmpID"}),Object(u.jsx)("th",{scope:"col",children:"First Name"}),Object(u.jsx)("th",{scope:"col",children:"Last Name"}),Object(u.jsx)("th",{scope:"col",children:"Email Address"}),Object(u.jsx)("th",{scope:"col",children:"Action"})]})}),Object(u.jsx)("tbody",{children:c.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t}),Object(u.jsx)("td",{children:e.fname}),Object(u.jsx)("td",{children:e.lname}),Object(u.jsx)("td",{children:e.username}),Object(u.jsxs)("td",{children:[Object(u.jsx)(b.b,{class:"btn btn-primary mx-3 mr-2",to:"/EditUser/".concat(e.username),children:"Edit"}),"  ",Object(u.jsx)(b.b,{class:"btn btn-danger",onClick:function(){return o(e.username)},to:"/UserList",children:"Delete"}),"  "]})]},t)}))})]})})})]})},w=function(){var e=Object(l.g)().ID,t=Object(l.f)();"null"===localStorage.getItem("token")&&t.push("/"),console.log("outsied use effect "+e);var a=Object(n.useState)({}),c=Object(g.a)(a,2),s=c[0],r=c[1];console.log(s);var o=function(){var t=Object(O.a)(x.a.mark((function t(){var a,n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("http://khdd.codes:30008/employees");case 3:a=t.sent,n=a.data.results,c=n.filter((function(t){return t.username===e})),console.log(c),r(c[0]),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("EDIT SCREEN: ERROR FETCHING USER"),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("Inside user effec: "+e),o()}),[e]);var d=function(e){r(Object(f.a)(Object(f.a)({},s),{},Object(v.a)({},e.target.name,e.target.value))),console.log(e.target.name)},j=function(){var e=Object(O.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.preventDefault(),console.log(s),e.next=5,i.a.put("http://khdd.codes:30008/update_emp",s);case 5:n=e.sent,console.log(n),t.push("/Home"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("ERROR:EDIT USER... onsubmit"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{}),Object(u.jsx)("div",{className:"container my-5",children:Object(u.jsxs)("div",{className:"w-70 mx-auto shadow p-4",children:[Object(u.jsx)("h1",{children:"Edit User Info"}),Object(u.jsxs)("form",{class:"row g-3",onSubmit:function(e){return j(e)},children:[Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"First Name"}),Object(u.jsx)("input",{type:"text",class:"form-control",value:s.fname,onChange:function(e){return d(e)},name:"firstname"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("label",{className:"form-label",children:"Last Name"}),Object(u.jsx)("input",{type:"text",class:"form-control",value:s.lname,onChange:function(e){return d(e)},name:"lastname"})]}),Object(u.jsxs)("div",{className:"col-md-6 my-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Designation"}),Object(u.jsx)("input",{type:"text",class:"form-control",value:s.designation,onChange:function(e){return d(e)},name:"designation"})]}),Object(u.jsxs)("div",{className:"col-md-6 my-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Email"}),Object(u.jsx)("input",{type:"email",class:"form-control",id:"inputEmail4",value:s.username,onChange:function(e){return d(e)},name:"email"})]}),Object(u.jsxs)("div",{className:"col-md-6 my-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Password"}),Object(u.jsx)("input",{type:"text",class:"form-control",id:"inputCity",value:s.password,onChange:function(e){return d(e)},name:"password"})]}),Object(u.jsxs)("div",{className:"col-md-6 my-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Salary"}),Object(u.jsx)("input",{type:"text",class:"form-control",id:"inputCity",value:s.salary,onChange:function(e){return d(e)},name:"salary"})]}),Object(u.jsx)("div",{className:"col-12 my-5 my-2",children:Object(u.jsx)("button",{type:"submit",class:"btn btn-primary btn-lg btn-block",children:"Edit User"})})]})]})})]})},k=a(17),E=a(37),S=(a(70),function(){return Object(u.jsx)("div",{children:Object(u.jsx)("nav",{class:"navbar navbar-expand-lg navbar navbar-dark bg-dark",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{class:"navbar-brand",href:"#",children:"Administration Portal"}),Object(u.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{class:"navbar-toggler-icon"})})]})})})});function C(){var e=Object(l.f)();"null"!==localStorage.getItem("token")&&e.push("/Home");var t=Object(n.useState)(""),a=Object(g.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),o=Object(g.a)(r,2),d=o[0],j=o[1];function b(){return(b=Object(O.a)(x.a.mark((function t(a){var n,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,i.a.post("http://khdd.codes:30008/admin_login",{username:c,password:d});case 4:n=t.sent,s=n.data.token,localStorage.setItem("token",s),e.push("/Home"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("[Admin Login Screen] Error Occured while sending login request."),console.log(String(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(S,{}),Object(u.jsx)("div",{className:"container my-5",children:Object(u.jsx)("div",{className:"w-70 mx-auto shadow p-3",children:Object(u.jsx)("div",{className:"Login",children:Object(u.jsxs)(k.a,{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(u.jsxs)(k.a.Group,{size:"lg",controlId:"email",children:[Object(u.jsx)(k.a.Label,{children:"Username"}),Object(u.jsx)(k.a.Control,{autoFocus:!0,type:"text",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(u.jsxs)(k.a.Group,{size:"lg",controlId:"password",children:[Object(u.jsx)(k.a.Label,{children:"Password"}),Object(u.jsx)(k.a.Control,{type:"password",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsx)(E.a,{block:!0,size:"lg",style:{marginTop:"10px"},type:"submit",children:"Login"})]})})})})]})}var U=function(){return Object(u.jsx)(b.a,{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:C}),Object(u.jsx)(l.a,{exact:!0,path:"/Home",component:h}),Object(u.jsx)(l.a,{exact:!0,path:"/UserScreen",component:y}),Object(u.jsx)(l.a,{exact:!0,path:"/UserList",component:N}),Object(u.jsx)(l.a,{exact:!0,path:"/EditUser/:ID",component:w})]})})})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(U,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.628a642d.chunk.js.map